# StudentManagement

### Posco AI, BigData 아카데미

성적 처리 프로그램입니다.


Problem: 성적 관리 프로그램
1.	문제의 개요
파일로부터 데이터를 읽어서, 성적 목록을 만들어 관리하는 프로그램을 작성한다.
이 프로그램은 7가지 주요 기능을 가지고 있다.
1)	show: 전체 학생 정보를 화면에 출력한다.
2)	search: 특정 학생을 학번으로 검색한다.
3)	changescore: 특정 학생의 점수를 수정한다.
4)	searchgrade: 특정 grade에 해당하는 학생을 모두 출력한다.
5)	add: 새로운 학생의 정보를 입력받아 목록에 추가한다.
6)	remove: 특정 학생 정보를 삭제한다.
7)	quit: 프로그램을 종료한다. 

파일 입출력과 7가지 기능을 구조 차트로 나타내면 다음과 같다.

-	학생 정보 출력: 화면에 성적 정보를 출력
-	학생 정보 검색: 학번이나 grade로 특정 정보를 검색
-	학생 정보 수정: 목록을 수정하는 경우. 정보를 추가하거나 제거하거나 변경하는 경우.
 
2.	알고리즘
본 프로그램 작성을 위한 알고리즘을 Psudo 코드 형태로 나타내면 다음과 같다.

<성적 관리 프로그램 수도코드>
1.	기존 파일을 읽어온다.
2.	사용자에게 수행하고자 하는 명령을 입력 받는다. (대소문자 구분은 없다.)
1)	Show
I.	전체 목록을 평균 점수 기준으로 내림차순 정렬한다.
II.	전체 학생 정보를 포맷에 맞추어 출력한다.
2)	Search
I.	검색할 학번을 입력 받는다
II.	입력한 학번을 기존 목록에서 검색한다.
i.	검색 학번이 목록에 있는 경우
①	기존 목록에서 검색하고자 하는 학번의 index를 저장한다.
②	저장한 index에 해당하는 학생의 정보만을 형식에 맞추어 출력한다.
ii.	검색 학번이 목록에 없는 경우
①	“NO SUCH STUDENT”를 출력한다.
3)	Changescore
I.	수정할 학번을 입력 받는다
II.	입력 받은 학번을 기존 목록에서 검색한다.
i.	검색 학번이 목록에 있는 경우
①	기존 목록에서 검색하고자 하는 학번의 index를 저장한다.
②	수정하고자 하는 점수가 중간고사인지 기말고사인지 입력 받는다. (mid, final 대소문자 구분 없이)
③	새로운 점수를 입력 받는다. (1~100)
④	Index에 저장된 학생의 변경 전 정보를 포맷에 맞게 출력한다.
⑤	1번에서 저장한 index에 해당하는 학생의 정보를 입력 값에 따라 변경한다.
⑥	평균과 grade를 다시 계산하여 정보에 반영한다.
⑦	“Score changed.” 문구를 출력한다.
⑧	변경 후 index 학생의 정보를 출력한다
ii.	검색 학번이 목록에 없는 경우
①	“NO SUCH PERSON”을 출력한다.
4)	Add
I.	새로운 학번을 입력 받는다.
II.	새로운 학번을 기존 목록에서 검색한다.
i.	새로운 학번이 목록에 이미 존재하는 경우
①	“ALREADY EXISTS.”를 출력한다.
ii.	새로운 학번에 목록에 존재하지 않는 경우
①	새로운 이름을 입력 받는다.
②	중간고사 점수를 입력 받는다.
③	기말고사 점수를 입력 받는다.
④	“Student added.”를 출력한다.
⑤	입력 받은 점수를 바탕으로 average와 grade를 계산하고, 해당 학생의 정보에 추가한다.
⑥	목록에 새로운 학생의 정보를 추가한다.
5)	Searchgrade
I.	검색할 grade를 입력 받는다.
II.	입력 받은 grade를 목록에서 검색한다. (A, B, C, D, F)
i.	검색 grade가 목록에 있는 경우
①	목록에서 검색grade와 일치하는 학생의 index number를 저장한다.
②	저장한 index에 해당하는 학생의 정보만을 형식에 맞추어 출력한다.
ii.	검색 grade가 목록에 없는 경우
①	“NO RESULTS.”를 출력한다.
6)	Remove
I.	제거할 학번을 입력 받는다.
II.	입력 받은 학번을 목록에서 검색한다.
i.	검색 학번이 목록에 있는 경우
①	검색 학번과 일치하는 학번을 가진 학생의 index number를 저장한다.
②	해당 index의 정보를 제거한다.
ii.	검색 학번이 목록에 없는 경우
①	“NO SUCH PERSON.”을 출력한다.
III.	목록에 학생이 없는 경우
i.	“List is empty”를 출력한다.
7)	Quit
I.	저장 여부를 입력 받는다.
i.	입력 값이 yes 인 경우
①	파일 이름을 입력 받는다.
②	현재 목록을 평균 기준 내림차순으로 정렬한다.
③	형식에 맞게 파일을 저장한다.
④	프로그램을 종료한다.
ii.	입력 값이 no 인 경우
①	프로그램을 종료한다.
3.	Quit으로 프로그램이 종료되지 않은 이상 명령을 반복해서 입력 받는다.

< 프로그램 전체에 대한 flow chart >
 
 
3.	프로그램 구조 및 설명
1)	Score: 학생 점수 정보를 세팅하는 클래스
-	__init__
인스턴스의 속성을 정의한다. 학번, 중간고사 점수, 기말고사 점수를 속성으로 가진다. calculate_average(평균을 계산하는 메소드)를 호출한다.
-	calculate_average
중간고사와 기말고사 점수로 평균을 계산하고, average라는 속성에 대입한다. calculate_grade(Garde를 계산하는 메소드)를 호출한다.
-	calculate_grade
평균 점수에 따른 grade를 계산하고, grade라는 속성에 대입한다.
-	set_score
점수를 변경 명령이 입력되었을 때 점수를 변경하고 평균과 grade까지 다시 계산할 수 있도록 하는 메소드이다.
2)	StudentManager: 학생 정보 관리 클래스
①	__init__
-	self.stu_data = [] 빈 리스트를 선언한다. 이 리스트에는 Score의 인스턴스가 각각의 요소로 들어갈 것이다.
-	read_from_file 메소드를 호출한다.
②	read_from_file
-	파일을 불러와 학생 정보를 읽고, 리스트에 한 줄씩 저장한다. (lines)
-	tab으로 나누어진 정보를 쪼개어 하나의 리스트로 저장한다. (splitted)
-	각 학생에 대한 splitted 리스트를 Score의 객체로 선언하고 init에서 선언한 self.stu_data에 추가한다.
③	search(self, target, byID)
-	빈 리스트를 생성한다. (result)
-	byID가 True인경우, ID로 검색을 한다. False인 경우, grade로 검색을 한다.
-	self.stu_data내의 데이터에 대해 반복문을 수행하며 target과 일치하는 데이터의 index값을 리스트에 추가한다.
-	리스트를 반환한다. 이 때, 리스트에는 검색하고자 하는 target값과 일치하는 data의 index들이 들어있게 된다.
④	avg_arr
-	평균 기준으로 내림차순 정렬하는 함수
-	sort(reverse = True, lambda x: x.average)를 사용하였다.
⑤	change_score(self, index, test_type, score)
-	index의 리스트 값에 대해 반복문을 수행한다.
-	기존 데이터 목록에서 인덱스에 해당하는 값에만 Score 클래스의 set_score() 메소드를 수행한다.
⑥	print_data(self, print_format, indexes)
-	print_format = True 인 경우 포맷(칼럼 명, 구분선)을 출력한다.
-	indexes: index에 해당하는 학생 데이터를 간격에 맞추어 출력한다.
⑦	run
-	사용자 명령을 입력받고, 입력 값에 따른 함수를 호출하여 실행한다.
⑧	run_show
-	사용자가 run을 입력했을 때 실행되는 함수이다.
-	avg_arr() 평균 기준 내림차순 정렬하는 메소드를 호출한다.
-	print_data 메소드를 호출한다.
⑨	run_search
-	학번을 입력 받는다.
-	self.search()로 입력 받은 학번에 해당하는 학생의 index를 가져온다.
-	index가 담긴 리스트를 print_data의 매개변수로 하여 결과를 출력한다.
-	검색 결과 목록에 찾는 값이 없을 경우 “NO SUCH STUDENT.”를 출력한다.
⑩	run_change_score
-	학번을 입력 받는다.
-	self.search()로 입력 받은 학번에 해당하는 학생의 index를 가져온다.
-	중간고사인지, 기말고사인지 입력 받는다.
-	새로운 점수를 입력 받는다.
-	change_score 메소드를 호출하여 점수를 변경한다.
-	목록에 검색 학번이 없는 경우 “NO SUCH PERSON.”을 출력한다.
⑪	run_add
-	학번을 입력 받는다.
-	self.search()로 기존 목록에 입력받은 학번과 일치하는 정보가 있는지 확인한다. -> 존재하는 경우 “ALEREADY  EXISTS.”를 출력한다.
-	이름, 중간점수, 기말점수를 입력받고 Score클래스의 인스턴스로 선언한다.
-	self.stu_data 리스트에 새로운 인스턴스를 추가한다.
⑫	run_search_grade
-	self.search로 입력 받은 grade에 해당하는 학생의 index 리스트를 받아온다.
-	self.print_data로 인덱스에 해당하는 값을 출력한다.
-	검색 결과가 없을 경우 “NO RESULTS.”를 출력한다.
⑬	run_remove
-	학번을 입력 받는다
-	self.search로 입력받은 학번의 index를 받아온다.
-	self.stu_data에서 해당 인덱스에 해당하는 데이터를 제거한다.(del)
-	검색결과값이 없는 경우 “NO SUCH PERSON.”을 출력한다.
⑭	save_data
-	quit 명령어 입력 시 저장 기능 수행
-	새 파일을 열어 stu_data를 한 줄씩 작성한다.
-	작성하는 정보는 학번, 이름, 중간점수, 기말점수이다.
-	파일에는 문자열만 쓰일 수 있으므로 중간점수, 기말점수는 str형태로 변환해준다.
 
4.	프로그램 실행
1)	show

2)	search

3)	changescore

4)	add

5)	searchgrade

6)	remove

7)	quit

8)	저장된 텍스트 파일
 
5.	토론
1)	객체 지향 프로그래밍을 완전히 숙지하지 못한 탓에, 서로 다른 클래스와 메소드를 연관지어 사용하는 것에 어려움을 느꼈다. 클래스와 인스턴스, 메소드에 대한 이론적인 지식을 꼼꼼히 복습한 뒤 코드를 작성하였다.
2)	파일을 생성할 때, 한 줄 씩 데이터를 작성하는 과정에서 클래스를 문자열 형태로 변환시키는 것에 어려움을 겪었다.

위와 같은 형태로 문자열 변환을 시도하였으나, 정상적으로 파일이 쓰이지 않았다.
위와 같은 형태로 클래스 내의 데이터를 문자열로 직접 변경해주었고, 클래스의 각 속성을 직접 출력하였다. 이와 같은 방법으로 정상적인 출력을 가능하게 했다.
3)	search, avg_arr, print_data 메소드
처음에는 7가지 기능에 맞는 함수를 하나씩만 만들고자 했다. 그러나 각 7기능이 다른 동작을 수행함에도, 그 안에서 겹치는 기능이 포함되어있다는 것을 알았다.
예를 들면 search, changescore, add, searchgrade, remove 기능에는 공통적으로 특정 값으로 해당하는 학생을 검색하는 기능이 포함된다. 함수는 한가지 기능만을 하는 것이 이상적이고, 새로운 함수를 정의 함으로써 코드의 중복을 예방할 수 있기에 search라는 함수를 선언해 목록 내 특정 값을 검색하게 하는 기능만을 하도록 하였다. 검색이 필요한 속성은 학번과 grade가 있기에 두가지 기능을 할 수 있도록 byID라는 매개변수를 두었다. 또한 찾고자 하는 값은 target이라는 매개변수로 받는다.
avg_arr(평균으로 정렬 기능), print_data(인덱스값에 따른 출력 기능) 메소드도 마찬가지로 여러가지 기능에 중복해서 쓰이기 때문에 별도의 메소드로 만들어주었다.

6.	결론
1)	Score 과 StudentManager 클래스의 분리
Score: 각 학생의 성적 데이터를 클래스의 속성으로 만듦
StudentManager: 사용자의 명령을 받아 전체 학생 관리 기능 수행
정확하게 기능을 구별한다면 클래스를 더욱 다양하게 만들 수 있을 것 같아 아쉬움이 남는다. 다만 이번 과제를 통해 두가지 클래스를 연관지어 사용함으로써 클래스의 특징과 사용 방법에 대해 더욱 잘 알게 되었다. 
2)	화면에 정보를 출력할 때 간격을 맞추어 출력하는 방법을 알게 되었다.
출력 포맷을 미리 정의해두고 출력할 때 사용하였다.
3)	한 클래스 내에서의 함수 호출이 자유롭게 가능하다는 것을 알게 되었다. 함수 선언하는 순서와는 관계 없이, 한 메소드 내에서 다른 메소드를 사용하는 것이 자유로웠고, 이를 적극 활용하여 클래스를 만들었다.
4)	search함수에서 리턴값으로 해당하는 인덱스 값의 리스트를 받아왔기 때문에, 예외 처리를 하기가 수월했다. 예를들면 changescore에서 입력한 학번에 해당하는 학생이 없을 때 “NO SUCH PERSON”이라는 문구를 출력하는데, search에서 받은 리스트가 빈 리스트라면 예외문구를 출력하도록 했다. 이와 같은 검색 방식은 다른 프로그램에서도 응용하기 좋을 것 같다.


